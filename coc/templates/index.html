{% extends "bootstrap/base.html" %}
{% block title %}火舞青春{% endblock %}

{% block script %}
<script type="text/javascript">
      function initTable() {
        //先销毁表格
        $('#table').bootstrapTable('destroy');
        //初始化表格,动态从服务器加载数据
        $("#cusTable").bootstrapTable({
            method: "get",  //使用get请求到服务器获取数据
            url: "<c:url value='/data'/>", //获取数据的Servlet地址
            striped: true,  //表格显示条纹
            pagination: true, //启动分页
            pageSize: 1,  //每页显示的记录数
            pageNumber:1, //当前第几页
            pageList: [5, 10, 15, 20, 25],  //记录数可选列表
            sidePagination: "server", //表示服务端请求
            //设置为undefined可以获取pageNumber，pageSize，searchText，sortName，sortOrder
            //设置为limit可以获取limit, offset, search, sort, order
            queryParamsType : "undefined",
            queryParams: function queryParams(params) {   //设置查询参数
              var param = {
                  pageNumber: params.pageNumber,
                  pageSize: params.pageSize,
              };
              return param;
            },
            onLoadSuccess: function(){  //加载成功时执行
              layer.msg("加载成功");
            },
            onLoadError: function(){  //加载失败时执行
              layer.msg("加载数据失败", {time : 1500, icon : 2});
            }
          });
      }

      $(document).ready(function () {
          initTable();
      });
</script>

{% endblock %}


{% block body %}


<div class="container">
    <div class="jumbotron">
        <h1>我的火舞青春</h1>
    </div>
</div>

<table id='table' class="table table-bordered table-hover" style="width:800px" align="center" data-pagination="true"
       data-show-refresh="true"
       data-show-toggle="true"
       data-showColumns="true">
        <tr>
            <th data-field="name">Name</th>
            <th data-field="stargazers_count">Stars</th>
            <th data-field="forks_count">Forks</th>
            <th data-field="description">Description</th>
        </tr>
        </thead>
    </table>
</table>

{% endblock %}


